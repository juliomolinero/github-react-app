(this["webpackJsonpgithub-app"]=this["webpackJsonpgithub-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),s=(a(29),a(30),a(6)),l=a(7),c=a(15),u=a(10),h=a(9),m=(a(31),a(32),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"app-header"},r.a.createElement("div",{className:"container row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"app-logo img-responsive",src:"./github_logo.jpeg",alt:"Github"})),r.a.createElement("div",{className:"col-md-9 d-flex align-items-center"},r.a.createElement("h2",null,"GitHub Repository List"))))}}]),a}(n.Component)),p=(a(33),a(16)),d=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container top-20"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"queryText",type:"text",className:"form-control","aria-label":"Search Repositories",placeholder:"Search Repositories",maxLength:"255",onChange:function(t){return e.props.handleChange(t.target.value)},value:this.props.queryText}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.props.clickSearch},r.a.createElement(p.b,null)))))}}]),a}(n.Component),f=a(17),E=(a(34),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pagination,a=r.a.createElement(f.a,{size:"lg",className:"justify-content-center"},r.a.createElement(f.a.Prev,{url:t.prev,onClick:function(){return e.props.handlePagination(t.prev)}}," Prev"),r.a.createElement(f.a.Next,{url:t.next,onClick:function(){return e.props.handlePagination(t.next)}}," Next"));return r.a.createElement("div",{className:"container top-30"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Owner"),r.a.createElement("th",{scope:"col"},"Stars"),r.a.createElement("th",{scope:"col"},"Link"),r.a.createElement("th",{scope:"col"},"Details"))),r.a.createElement("tbody",null,this.props.repositories.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.owner.login),r.a.createElement("td",null,r.a.createElement(p.c,null)," ",t.stargazers_count),r.a.createElement("td",null,r.a.createElement("a",{href:t.url},t.full_name)),r.a.createElement("td",null,r.a.createElement("a",{href:"/#",onClick:function(){return e.props.showRepositoryDetails(t)}},"Details")))}))),this.props.totalCount>10&&r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},a)))))}}]),a}(n.Component)),g=a(5),b=a(19),y=(a(35),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.show,animation:!1,size:"lg"},r.a.createElement(g.a.Header,{className:"justify-content-center"},r.a.createElement("h3",null,this.props.repository.name)),r.a.createElement(g.a.Body,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{className:"avatar",src:this.props.repository.owner.avatar_url,alt:"Profile"})),r.a.createElement("div",{className:"col-md-10 div-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("b",null,"Last 3 commits by:\xa0")),r.a.createElement(b.a,null,this.props.lastCommits.map((function(e){return r.a.createElement(b.a.Item,{key:e.id},e.login)})))),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("b",null,"The last fork was created by:\xa0")),r.a.createElement("span",null,this.props.lastForkBy)),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("b",null,"The owner has this in their biography:\xa0")),r.a.createElement("span",null,this.props.userBiography))))),r.a.createElement(g.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleClose},"Close")))}}]),a}(n.Component)),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.showLoading,animation:!1,size:"md"},r.a.createElement(g.a.Header,null),r.a.createElement(g.a.Body,null,r.a.createElement("div",{className:"message"},r.a.createElement(p.a,{color:"#377bb5"}),"\xa0\xa0\xa0Loading, please wait ...")),r.a.createElement(g.a.Footer,null))}}]),a}(n.Component),w=(a(38),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.showRequestLimit,animation:!1,size:"lg"},r.a.createElement(g.a.Header,{className:"justify-content-center"},r.a.createElement("h3",null,"No more requests available")),r.a.createElement(g.a.Body,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{className:"sad-avatar",src:"./sad.png",alt:"No more requests at the moment"})),r.a.createElement("div",{className:"col-md-9 d-flex align-items-center"},r.a.createElement("h5",null,"Ouch!, it seems you have reached out the limit to perform requests, please try again in a minute.")))),r.a.createElement(g.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleCloseRequestLimit},"Close")))}}]),a}(n.Component)),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showLoadingModal=function(){e.setState({showLoading:!0})},e.hideLoadingModal=function(){e.setState({showLoading:!1})},e.showRequestLimitModal=function(){e.setState({showRequestLimit:!0})},e.hideRequestLimitModal=function(){e.setState({showRequestLimit:!1})},e.state={apiPaginatedUrl:"",apiBaseUrl:"https://api.github.com/search/repositories?page=1&per_page=10&sort=stars&order=desc&q=",queryText:"",repositories:[],show:!1,showLoading:!1,showRequestLimit:!1,userBiography:"",lastForkBy:"N/A",lastCommitters:[],repository:{id:"",name:"",owner:""},totalCount:0,pagination:{first:"",last:"",next:"",prev:""}},e.searchRepositories=e.searchRepositories.bind(Object(c.a)(e)),e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.showRepositoryDetails=e.showRepositoryDetails.bind(Object(c.a)(e)),e.handlePagination=e.handlePagination.bind(Object(c.a)(e)),e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({queryText:e})}},{key:"handlePagination",value:function(e){var t=this;""!==e?this.setState({apiPaginatedUrl:e},(function(){return t.searchRepositories()})):console.log("Nothing to do")}},{key:"searchRepositories",value:function(){var e=this;if(""!==this.state.queryText||""!==this.state.apiPaginatedUrl){this.showLoadingModal();var t=""===this.state.apiPaginatedUrl?this.state.apiBaseUrl+this.state.queryText:this.state.apiPaginatedUrl;fetch(t).then((function(t){if(0===t.headers.get("x-ratelimit-remaining"))throw e.showRequestLimitModal(),new Error("X-RateLimit-Limit exceeded!");var a=t.headers.get("link"),n=e.parseLinkHeader(a);return e.setState({pagination:n}),t})).then((function(e){return e.json()})).then((function(t){e.setState({repositories:t.items,totalCount:t.total_count})})).catch((function(e){return console.log("Error "+e)})).finally((function(){return e.hideLoadingModal()}))}}},{key:"parseLinkHeader",value:function(e){if(0===e.length)throw new Error("input must not be of zero length");var t=e.split(","),a={first:"",last:"",next:"",prev:""};return t.forEach((function(e){var t=e.split(";");if(2!==t.length)throw new Error("section could not be split on ';'");var n=t[0].replace(/<(.*)>/,"$1").trim(),r=t[1].replace(/rel="(.*)"/,"$1").trim();a[r]=n})),a}},{key:"showRepositoryDetails",value:function(e){var t=this;this.setState({repository:e}),this.showLoadingModal(),fetch(e.owner.url).then((function(e){return e.json()})).then((function(e){return t.setState({userBiography:e.bio})})).catch((function(e){return console.log("Error fetching user biography "+e)}));var a=e.commits_url.replace("{/sha}","");fetch(a).then((function(e){return e.json()})).then((function(e){var a=0,n=[];e.forEach((function(e){3!==a&&(e.committer.id=a,n.push(e.committer),a++)})),t.setState({lastCommitters:n})})).catch((function(e){return console.log("Error fetching commiters "+e)})),fetch(e.forks_url).then((function(e){return e.json()})).then((function(e){return t.setState({lastForkBy:e[0].owner.login})})).catch((function(e){return console.log("Error fetching last fork "+e)})).finally((function(){t.hideLoadingModal(),t.showModal()})),this.setState({userBiography:"",lastForkBy:"N/A",lastCommitters:[]})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(d,{queryText:this.state.queryText,clickSearch:this.searchRepositories,handleChange:this.handleChange}),r.a.createElement(E,{repositories:this.state.repositories,showRepositoryDetails:this.showRepositoryDetails,totalCount:this.state.totalCount,pagination:this.state.pagination,handlePagination:this.handlePagination}),r.a.createElement(y,{repository:this.state.repository,handleClose:this.hideModal,show:this.state.show,userBiography:this.state.userBiography,lastForkBy:this.state.lastForkBy,lastCommits:this.state.lastCommitters}),r.a.createElement(v,{showLoading:this.state.showLoading}),r.a.createElement(w,{showRequestLimit:this.state.showRequestLimit,handleCloseRequestLimit:this.hideRequestLimitModal}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22),a(39);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.9d62890e.chunk.js.map